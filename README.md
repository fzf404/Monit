<!--
 * @Author: fzf404
 * @Date: 2022-06-18 17:15:15
 * @LastEditors: fzf404 nmdfzf404@163.com
 * @LastEditTime: 2022-07-17 18:40:48
 * @Description: Monit è¯´æ˜æ–‡æ¡£
-->

## ğŸ’¡ å±•ç¤º

![show](show.jpeg)

## ğŸ å®‰è£…

> ä½¿ç”¨ Github Action è‡ªåŠ¨æ‰“åŒ…ï¼Œæ— éœ€æ‹…å¿ƒå®‰å…¨é—®é¢˜

å‰å¾€ [Release](https://github.com/fzf404/Monit/releases) å¯»æ‰¾æ“ä½œç³»ç»Ÿå¯¹åº”çš„å®‰è£…åŒ…

[å›½å†…é•œåƒ](https://hub.fastgit.xyz/fzf404/Monit/releases)

- Windows

  > å…¨åŠŸèƒ½æ”¯æŒï¼šå¼€æœºè‡ªå¯ã€è‡ªåŠ¨æ›´æ–°ã€æƒé™è·å–ç­‰

- Linux

  > å¼€æœºè‡ªå¯åŠŸèƒ½å¯èƒ½ä¼šå¤±æ•ˆ

- Mac

  > ç”±äºæ²¡æœ‰ Apple å¼€å‘è€…è´¦å·ï¼Œæ‰“å¼€æ—¶å¦‚å‡ºç° `Monit.app å·²æŸå`ï¼Œè¯·æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤

  ```bash
  sudo xattr -rd com.apple.quarantine [åº”ç”¨ä½ç½®](å°†åº”ç”¨ç¨‹åºä¸­çš„ Monit æ‹–è¿›æ¥)
  ```

## âœ¨ åŠŸèƒ½

> Vue æŒ‡ Composition APIï¼ŒVue2 æŒ‡ Options API

| æ’ä»¶å   | åŠŸèƒ½              | æŠ€æœ¯                        | çŠ¶æ€ |
| -------- | ----------------- | --------------------------- | ---- |
| welcome  | ä½¿ç”¨æŒ‡å¼•          | Vue Composition API         | âœ…   |
| count    | è®¡æ•°å™¨            | Vue Options API             | âœ…   |
| github   | github ä¿¡æ¯ç›‘æ§   | Vue2 + Axios + Grid         | âœ…   |
| clock    | æ—¶é’Ÿç¿»ç‰Œå™¨        | Vue + Scss + Keyframes      | âœ…   |
| todo     | å¾…åŠäº‹é¡¹ç®¡ç†      | Vue + Pug + Draggable       | âœ…   |
| camera   | æ‘„åƒå¤´ç›‘æ§        | Vue + Navigator + Canvas    | âœ…   |
| live2d   | è™šæ‹Ÿè§’è‰²è·Ÿè¸ª      | Vue + MediaPipe + Kalidokit | â›”ï¸  |
| music    | ç½‘æ˜“äº‘éŸ³ä¹æ’­æ”¾    |                             | â›”ï¸  |
| bilibili | bilibili ä¿¡æ¯ç›‘æ§ |                             | â›”ï¸  |

## ğŸ“ å¼€å‘

Monit æ˜¯ä¸€ä¸ªå¼€æºçš„æ¡Œé¢å°ç»„ä»¶ï¼Œä½¿ç”¨ MIT åè®®å¼€æºï¼Œæ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨é¡¹ç›®ä¸­çš„ä»£ç ã€‚

åŸºäº Electron + Vue å¼€å‘ï¼Œæ¸²æŸ“è¿›ç¨‹ä½¿ç”¨ JS + Vueï¼Œä¸»è¿›ç¨‹ä½¿ç”¨ JS è°ƒç”¨ Electron APIã€‚

å¦‚æœæ‚¨äº†è§£ Vueï¼Œå¹¶ä¸äº†è§£ Electronï¼Œä½¿ç”¨æœ¬é¡¹ç›®å³å¯å¿«é€Ÿå¼€å‘å‡ºè‡ªå·±çš„æ¡Œé¢å°ç»„ä»¶ã€‚

å¦‚æœæ‚¨åˆå­¦ Vueï¼Œå¯¹å…¶ä»–æŠ€æœ¯ä¸€æ— æ‰€çŸ¥ï¼Œå¯ä»¥é€šè¿‡æœ¬é¡¹ç›®ç»§ç»­äº†è§£ Vue åŠ `package.json` é‡ŒåŒ…å«çš„æ‰€æœ‰åº“çš„åŸºæœ¬ä½¿ç”¨ã€‚

å¦‚æœæ‚¨å¯¹ Vue å’Œ NodeJS ä¸€æ— æ‰€çŸ¥ï¼Œè¯·å…ˆå»äº†è§£ç›¸å…³æŠ€æœ¯åå†æ¥æŸ¥çœ‹æœ¬é¡¹ç›®ï¼Œåœ¨å¤±æœ›çš„ç¦»å¼€ä¹‹å‰åˆ«å¿˜äº†ç•™ä¸‹ä¸€ä¸ª starã€‚

### ğŸ€ ä»£ç ç»“æ„

> é¡¹ç›®ç»“æ„åŸºäºä¸ªäººå–œå¥½ï¼Œå¯èƒ½éšæ—¶å‘ç”Ÿ**é‡å¤§è°ƒæ•´**
>
> æ–‡ä»¶å¤´éƒ¨å‡æœ‰åŠŸèƒ½æè¿°

```bash
â”œâ”€â”€ app # æ¸²æŸ“è¿›ç¨‹
â”‚   â”œâ”€â”€ assets # é™æ€èµ„æº
â”‚   â”œâ”€â”€ layouts # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ plugins # æ’ä»¶
â”‚   â””â”€â”€ utils # å·¥å…·ç±»
â”œâ”€â”€ custom # è‡ªå®šä¹‰å·¥å…·
â”‚   â”œâ”€â”€ ... # å…¬ç”¨å·¥å…·ç±»
â”‚   â””â”€â”€ plugin.js # æ’ä»¶é…ç½®
â”œâ”€â”€ core # ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ event.js # äº‹ä»¶å¤„ç†
â”‚   â”œâ”€â”€ main.js # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ tray.js # æ‰˜ç›˜è¿›ç¨‹
â”‚   â””â”€â”€ window.js # çª—å£ç®¡ç†
â”œâ”€â”€ public # é™æ€æ–‡ä»¶
â”œâ”€â”€ .prettier # ä»£ç æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ postcss.config.js # postcss é…ç½®
â”œâ”€â”€ tailwind.config.js # tailwindcss é…ç½®
â””â”€â”€ vue.config.js # vue-cli é…ç½® & electron æ‰“åŒ…é…ç½®
```

### âœ¨ æŠ€æœ¯

- Electron 18
  - è·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åºæ„å»ºå·¥å…·
  - [å®˜æ–¹æ–‡æ¡£](https://www.electronjs.org/zh/docs/latest)
- Vue 3
  - JavaScript å‰ç«¯æ¡†æ¶
  - [å®˜æ–¹æ–‡æ¡£](https://v3.cn.vuejs.org/guide/introduction.html)
  - å¯ä½¿ç”¨ setup è¯­æ³•å¼€å‘
- Tailwindcss 3
  - åŠŸèƒ½ç±» CSS è¯­æ³•ç³–
  - [å®˜æ–¹æ–‡æ¡£](https://www.tailwindcss.cn/docs)
  - å¯é€‰åŠŸèƒ½ï¼Œå¯åªä½¿ç”¨ css è¿›è¡Œæ’ä»¶å¼€å‘

### ğŸš€ å¿«é€Ÿå¼€å§‹

> æ¥å†™ä¸€ä¸ªè®¡æ•°å™¨å§
>
> æ¨èä½¿ç”¨ vscode ä½œä¸ºä»£ç ç¼–è¾‘å™¨
>
> å®‰è£… tailwindcss æ’ä»¶åï¼Œå°†é¼ æ ‡ç§»è‡³ class ä¸Šå¯æŸ¥çœ‹æ ·å¼ css

1. clone æœ¬é¡¹ç›®
   ```bash
   git clone https://github.com/fzf404/Monit.git --depth-1
   ```
2. å®‰è£…é¡¹ç›®ä¾èµ–

```bash
 # å‡å¦‚æ‚¨ä½¿ç”¨ npmï¼Œè¯·å®‰è£… pnpm
 npm i -g pnpm
 # ä½¿ç”¨ pnpm å®‰è£…ä¾èµ–
 pnpm i
```

3. ç¼–å†™æ’ä»¶é¡µé¢ `app/plugins/count.vue`

   ```vue
   <template>
     <main>
       <!-- çª—å£æ§åˆ¶å™¨ -->
       <Layout v-model:setting="setting" />
       <!-- é¡µé¢å†…å®¹ -->
       <article class="h-screen">
         <!-- è®¾ç½® -->
         <aside class="setting setting-sm" v-show="setting">
           <!-- ä¸­å¿ƒæ¡† -->
           <ul>
             <!-- æ•°å€¼ -->
             <li>
               <label for="count-number">æ•°å€¼</label>
               <input
                 id="count-number"
                 type="number"
                 oninput="if(value.length > 5) value = value.slice(0, 5)"
                 v-model.lazy="count"
                 @keyup.enter="this.setting = false"
               />
             </li>
             <!-- æ­¥é•¿ -->
             <li>
               <label for="step-number">æ­¥é•¿</label>
               <input
                 id="step-number"
                 type="number"
                 oninput="if(value.length > 3) value = value.slice(0, 3)"
                 v-model.lazy="step"
                 @keyup.enter="this.setting = false"
               />
             </li>
             <!-- ä¿å­˜ -->
             <ol>
               <button @click="this.setting = false">OK</button>
             </ol>
           </ul>
         </aside>
         <!-- ä¸»ä½“ -->
         <section class="flex-col-center space-y-3">
           <h1 class="text-gray-400">è®¡æ•°å™¨</h1>
           <p class="text-5xl">{{ count }}</p>
           <!-- å¢åŠ  & å‡å°‘ -->
           <p class="space-x-4">
             <button class="btn btn-sq bg-red-500 hover:bg-red-600" @click="reduce"><SubSVG class="w-5" /></button>
             <button class="btn btn-sq bg-green-500 hover:bg-green-600" @click="increase">
               <AddSVG class="w-5" />
             </button>
           </p>
         </section>
       </article>
     </main>
   </template>

   <script>
   import { storage } from '../../custom/storage'
   import Layout from '../layouts/custom.vue'
   import AddSVG from '../assets/count/add.svg'
   import SubSVG from '../assets/count/sub.svg'

   // ä¿¡æ¯å­˜å‚¨ & è¯»å–
   const { set, get } = storage('count')

   export default {
     components: {
       Layout,
       AddSVG,
       SubSVG,
     },
     data() {
       return {
         setting: false, // è®¾ç½®æ˜¯å¦å¼€å¯
         // è¯»å– count å€¼
         count: get('count', 0), // æ•°å­—
         // è¯»å– step å€¼
         step: get('step', 1), // æ­¥é•¿
       }
     },
     methods: {
       increase() {
         // æµ®ç‚¹æ•°è¿ç®—ç²¾åº¦
         this.count = Number((this.count + this.step).toFixed(2))
       },
       reduce() {
         // æµ®ç‚¹æ•°è¿ç®—ç²¾åº¦
         this.count = Number((this.count - this.step).toFixed(2))
       },
     },
     // ç›‘å¬ count å˜åŒ–
     watch: {
       count() {
         set('count', this.count)
       },
       setp() {
         set('step', this.step)
       },
     },
   }
   </script>

   <style scoped>
   /* flex ç«–å‘å±…ä¸­ */
   .flex-col-center {
     @apply h-screen flex flex-col justify-center items-center;
   }
   /* flex æ¨ªå‘å±…ä¸­ */
   .flex-row-center {
     @apply flex flex-row flex-nowrap justify-center items-center;
   }
   </style>
   ```

4. å¢åŠ æ’ä»¶é…ç½® `common/plugin.js`

   ```js
   export const pluginList = [
     // ...æ·»åŠ å¦‚ä¸‹è¡Œ
     { name: 'count', size: [1, 1], description: 'è®¡æ•°å™¨', debug: true },
   ]
   ```

5. å¯åŠ¨ & æ‰“åŒ…

   ```bash
   # è°ƒè¯•åº”ç”¨
   pnpm serve
   # åœ¨æ‰˜ç›˜ä¸­å¯åŠ¨ count æ’ä»¶

   # æ„å»ºåº”ç”¨
   pnpm build
   # æ„å»ºæˆåŠŸåå³å¯åœ¨ dist_electron æ‰¾åˆ°å®‰è£…åŒ…
   ```

### ğŸ» API è¯´æ˜

1. é€šç”¨å¸ƒå±€ï¼š`./app/layouts/custom.vue`
2. Axios å°è£…ï¼š`./custom/request.js`
3. Store å°è£…ï¼š`./custom/storage.js`
4. Notice å°è£…ï¼š`./custom/ipc.js`

> å¾…ç»­...

### ğŸ”¥ æäº¤ä»£ç 

1. æ‰§è¡Œ commit æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œä»£ç æ ¼å¼åŒ–
2. æäº¤ä»£ç åˆ° beta åˆ†æ”¯
